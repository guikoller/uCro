


ARM Macro Assembler    Page 1 


    1 00000000         ;matrix_keyboard.s
    2 00000000         ; Desenvolvido para a placa EK-TM4C1294XL
    3 00000000         ; Codigo que apresenta algumas funcionalidades:
    4 00000000         
    5 00000000         ; ------------------------------------------------------
                       -------------------------
    6 00000000                 THUMB                        ; instrucoes do tip
                                                            o Thumb-2
    7 00000000         ; ------------------------------------------------------
                       -------------------------
    8 00000000         ; Declaracoes EQU - Defines
    9 00000000         ; ========================
   10 00000000         ; Definicoes dos Registradores Gerais
   11 00000000 400FE608 
                       SYSCTL_RCGCGPIO_R
                               EQU              0x400FE608
   12 00000000 400FEA08 
                       SYSCTL_PRGPIO_R
                               EQU              0x400FEA08
   13 00000000         
   14 00000000         ; ========================
   15 00000000         ; Definicoes dos Ports
   16 00000000         
   17 00000000         ;PORT L
   18 00000000 00000400 
                       GPIO_PORTL
                               EQU              2_10000000000
   19 00000000 40062000 
                       GPIO_PORTL_DATA_BITS_R
                               EQU              0x40062000
   20 00000000 400623FC 
                       GPIO_PORTL_DATA_R
                               EQU              0x400623FC
   21 00000000 40062400 
                       GPIO_PORTL_DIR_R
                               EQU              0x40062400
   22 00000000 40062404 
                       GPIO_PORTL_IS_R
                               EQU              0x40062404
   23 00000000 40062408 
                       GPIO_PORTL_IBE_R
                               EQU              0x40062408
   24 00000000 4006240C 
                       GPIO_PORTL_IEV_R
                               EQU              0x4006240C
   25 00000000 40062410 
                       GPIO_PORTL_IM_R
                               EQU              0x40062410
   26 00000000 40062414 
                       GPIO_PORTL_RIS_R
                               EQU              0x40062414
   27 00000000 40062418 
                       GPIO_PORTL_MIS_R
                               EQU              0x40062418
   28 00000000 4006241C 
                       GPIO_PORTL_ICR_R
                               EQU              0x4006241C
   29 00000000 40062420 
                       GPIO_PORTL_AFSEL_R



ARM Macro Assembler    Page 2 


                               EQU              0x40062420
   30 00000000 40062500 
                       GPIO_PORTL_DR2R_R
                               EQU              0x40062500
   31 00000000 40062504 
                       GPIO_PORTL_DR4R_R
                               EQU              0x40062504
   32 00000000 40062508 
                       GPIO_PORTL_DR8R_R
                               EQU              0x40062508
   33 00000000 4006250C 
                       GPIO_PORTL_ODR_R
                               EQU              0x4006250C
   34 00000000 40062510 
                       GPIO_PORTL_PUR_R
                               EQU              0x40062510
   35 00000000 40062514 
                       GPIO_PORTL_PDR_R
                               EQU              0x40062514
   36 00000000 40062518 
                       GPIO_PORTL_SLR_R
                               EQU              0x40062518
   37 00000000 4006251C 
                       GPIO_PORTL_DEN_R
                               EQU              0x4006251C
   38 00000000 40062520 
                       GPIO_PORTL_LOCK_R
                               EQU              0x40062520
   39 00000000 40062524 
                       GPIO_PORTL_CR_R
                               EQU              0x40062524
   40 00000000 40062528 
                       GPIO_PORTL_AMSEL_R
                               EQU              0x40062528
   41 00000000 4006252C 
                       GPIO_PORTL_PCTL_R
                               EQU              0x4006252C
   42 00000000 40062530 
                       GPIO_PORTL_ADCCTL_R
                               EQU              0x40062530
   43 00000000 40062534 
                       GPIO_PORTL_DMACTL_R
                               EQU              0x40062534
   44 00000000 40062538 
                       GPIO_PORTL_SI_R
                               EQU              0x40062538
   45 00000000 4006253C 
                       GPIO_PORTL_DR12R_R
                               EQU              0x4006253C
   46 00000000 40062540 
                       GPIO_PORTL_WAKEPEN_R
                               EQU              0x40062540
   47 00000000 40062544 
                       GPIO_PORTL_WAKELVL_R
                               EQU              0x40062544
   48 00000000 40062548 
                       GPIO_PORTL_WAKESTAT_R
                               EQU              0x40062548
   49 00000000 40062FC0 



ARM Macro Assembler    Page 3 


                       GPIO_PORTL_PP_R
                               EQU              0x40062FC0
   50 00000000 40062FC4 
                       GPIO_PORTL_PC_R
                               EQU              0x40062FC4
   51 00000000         
   52 00000000         ;PORT M
   53 00000000 00001000 
                       GPIO_PORTM
                               EQU              2_1000000000000
   54 00000000 40063000 
                       GPIO_PORTM_DATA_BITS_R
                               EQU              0x40063000
   55 00000000 400633FC 
                       GPIO_PORTM_DATA_R
                               EQU              0x400633FC
   56 00000000 40063400 
                       GPIO_PORTM_DIR_R
                               EQU              0x40063400
   57 00000000 40063404 
                       GPIO_PORTM_IS_R
                               EQU              0x40063404
   58 00000000 40063408 
                       GPIO_PORTM_IBE_R
                               EQU              0x40063408
   59 00000000 4006340C 
                       GPIO_PORTM_IEV_R
                               EQU              0x4006340C
   60 00000000 40063410 
                       GPIO_PORTM_IM_R
                               EQU              0x40063410
   61 00000000 40063414 
                       GPIO_PORTM_RIS_R
                               EQU              0x40063414
   62 00000000 40063418 
                       GPIO_PORTM_MIS_R
                               EQU              0x40063418
   63 00000000 4006341C 
                       GPIO_PORTM_ICR_R
                               EQU              0x4006341C
   64 00000000 40063420 
                       GPIO_PORTM_AFSEL_R
                               EQU              0x40063420
   65 00000000 40063500 
                       GPIO_PORTM_DR2R_R
                               EQU              0x40063500
   66 00000000 40063504 
                       GPIO_PORTM_DR4R_R
                               EQU              0x40063504
   67 00000000 40063508 
                       GPIO_PORTM_DR8R_R
                               EQU              0x40063508
   68 00000000 4006350C 
                       GPIO_PORTM_ODR_R
                               EQU              0x4006350C
   69 00000000 40063510 
                       GPIO_PORTM_PUR_R
                               EQU              0x40063510
   70 00000000 40063514 



ARM Macro Assembler    Page 4 


                       GPIO_PORTM_PDR_R
                               EQU              0x40063514
   71 00000000 40063518 
                       GPIO_PORTM_SLR_R
                               EQU              0x40063518
   72 00000000 4006351C 
                       GPIO_PORTM_DEN_R
                               EQU              0x4006351C
   73 00000000 40063520 
                       GPIO_PORTM_LOCK_R
                               EQU              0x40063520
   74 00000000 40063524 
                       GPIO_PORTM_CR_R
                               EQU              0x40063524
   75 00000000 40063528 
                       GPIO_PORTM_AMSEL_R
                               EQU              0x40063528
   76 00000000 4006352C 
                       GPIO_PORTM_PCTL_R
                               EQU              0x4006352C
   77 00000000 40063530 
                       GPIO_PORTM_ADCCTL_R
                               EQU              0x40063530
   78 00000000 40063534 
                       GPIO_PORTM_DMACTL_R
                               EQU              0x40063534
   79 00000000 40063538 
                       GPIO_PORTM_SI_R
                               EQU              0x40063538
   80 00000000 4006353C 
                       GPIO_PORTM_DR12R_R
                               EQU              0x4006353C
   81 00000000 40063540 
                       GPIO_PORTM_WAKEPEN_R
                               EQU              0x40063540
   82 00000000 40063544 
                       GPIO_PORTM_WAKELVL_R
                               EQU              0x40063544
   83 00000000 40063548 
                       GPIO_PORTM_WAKESTAT_R
                               EQU              0x40063548
   84 00000000 40063FC0 
                       GPIO_PORTM_PP_R
                               EQU              0x40063FC0
   85 00000000 40063FC4 
                       GPIO_PORTM_PC_R
                               EQU              0x40063FC4
   86 00000000         
   87 00000000         ; ------------------------------------------------------
                       -------------------------
   88 00000000         ; Area de Codigo - Tudo abaixo da diretiva a seguir sera
                        armazenado na memoria de 
   89 00000000         ; codigo
   90 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   91 00000000         
   92 00000000         ; Se alguma funcao do arquivo for chamada em outro arqui
                       vo 
   93 00000000                 EXPORT           MKBOARD_GPIOinit



ARM Macro Assembler    Page 5 


   94 00000000                 EXPORT           MKEYBOARD_readKeyboard
   95 00000000         
   96 00000000                 IMPORT           SysTick_Wait1ms
   97 00000000         
   98 00000000         ;-------------------------------------------------------
                       -------------------------
   99 00000000         ; Funcao MKBOARD_init
  100 00000000         ; Parametro de entrada: Nao tem
  101 00000000         ; Parametro de saida: Nao tem
  102 00000000         MKBOARD_GPIOinit
  103 00000000         ;=====================
  104 00000000         ; VER arquivo LCD.S
  105 00000000         ; 1. Ativar o clock para a porta setando o bit correspon
                       dente no registrador RCGCGPIO,
  106 00000000 4868            LDR              R0, =SYSCTL_RCGCGPIO_R ;Carrega
                                                             o endereao do regi
                                                            strador RCGCGPIO
  107 00000002 6801            LDR              R1, [R0]
  108 00000004 F441 6180       ORR              R1, #GPIO_PORTL ; teclado - PIN
                                                            OS LINHAS 
  109 00000008 F441 5180       ORR              R1, #GPIO_PORTM ; teclado - PIN
                                                            OS COLUNAS
  110 0000000C 6001            STR              R1, [R0]    ;Move para a memori
                                                            a os bits das porta
                                                            s no endereao do RC
                                                            GCGPIO
  111 0000000E         
  112 0000000E         ; verificar no PRGPIO se a porta esta pronta para uso.
  113 0000000E 4866            LDR              R0, =SYSCTL_PRGPIO_R ;Carrega o
                                                             endereao do PRGPIO
                                                             para esperar os GP
                                                            IO ficarem prontos
  114 00000010         Espera_Porta
  115 00000010 6801            LDR              R1, [R0]    ;Le da memoria o co
                                                            nteado do endereao 
                                                            do registrador
  116 00000012 F44F 6280       MOV              R2, #GPIO_PORTL
  117 00000016 F442 5280       ORR              R2, #GPIO_PORTM
  118 0000001A EA01 0102       AND              R1, R1, R2  ;seleciona apenas o
                                                            s bits das portas r
                                                            eferentes
  119 0000001E 4211            TST              R1, R2      ;compara se os bits
                                                             estao iguais
  120 00000020 D0F6            BEQ              Espera_Porta ;Se o flag Z=1, vo
                                                            lta para o laao. Se
                                                            nao continua execut
                                                            ando
  121 00000022         
  122 00000022         ; 2. Limpar o AMSEL para desabilitar a analagica
  123 00000022 4862            LDR              R0, =GPIO_PORTL_AMSEL_R
  124 00000024 6801            LDR              R1, [R0]
  125 00000026 F021 010F       BIC              R1, #0xF    ; L0 a L3 = 0 : des
                                                            abilita analogica
  126 0000002A 6001            STR              R1, [R0]
  127 0000002C         
  128 0000002C 4860            LDR              R0, =GPIO_PORTM_AMSEL_R
  129 0000002E 6801            LDR              R1, [R0]
  130 00000030 F021 01F0       BIC              R1, #0xF0   ; M4 a M7 = 0 : des
                                                            abilita analogica



ARM Macro Assembler    Page 6 


  131 00000034 6001            STR              R1, [R0]
  132 00000036         
  133 00000036         ; 3. Limpar PCTL para selecionar o GPIO
  134 00000036 485F            LDR              R0, =GPIO_PORTL_PCTL_R
  135 00000038 6801            LDR              R1, [R0]
  136 0000003A F021 010F       BIC              R1, R1, #0xF ;L0 a L3 = 0: sele
                                                            ciona modo GPIO
  137 0000003E 6001            STR              R1, [R0]
  138 00000040         
  139 00000040 485D            LDR              R0, =GPIO_PORTM_PCTL_R
  140 00000042 6801            LDR              R1, [R0]
  141 00000044 F021 01F0       BIC              R1, R1, #0xF0 ;M4 a M7 = 0: sel
                                                            eciona modo GPIO
  142 00000048 6001            STR              R1, [R0]
  143 0000004A         
  144 0000004A         ; 4. DIR para 0: input (BIC), 1: output (ORR)
  145 0000004A 485C            LDR              R0, =GPIO_PORTL_DIR_R
  146 0000004C 6801            LDR              R1, [R0]
  147 0000004E F021 010F       BIC              R1, R1, #0xF 
                                                            ;L0 a L3 = 0: INPUT
                                                            
  148 00000052 6001            STR              R1, [R0]
  149 00000054         
  150 00000054 485A            LDR              R0, =GPIO_PORTM_DIR_R
  151 00000056 6801            LDR              R1, [R0]
  152 00000058 F041 01F0       ORR              R1, R1, #0xF0 ;M4 a M7 = 1: OUT
                                                            PUT
  153 0000005C 6001            STR              R1, [R0]
  154 0000005E         
  155 0000005E         ; 5. Limpar os bits AFSEL para 0 para selecionar GPIO se
                       m funcao alternativa
  156 0000005E 4859            LDR              R0, =GPIO_PORTL_AFSEL_R
  157 00000060 6801            LDR              R1, [R0]
  158 00000062 F021 010F       BIC              R1, R1, #0xF ;L0 a L3 = 0: sem 
                                                            funcao alternativa
  159 00000066 6001            STR              R1, [R0]
  160 00000068 4857            LDR              R0, =GPIO_PORTM_AFSEL_R
  161 0000006A 6801            LDR              R1, [R0]
  162 0000006C F021 01F0       BIC              R1, R1, #0xF0 ;M4 a M7 = 0: sem
                                                             funcao alternativa
                                                            
  163 00000070 6001            STR              R1, [R0]
  164 00000072         
  165 00000072         ; 6. Setar os bits de DEN para habilitar I/O digital
  166 00000072 4856            LDR              R0, =GPIO_PORTL_DEN_R ;carrega 
                                                            o endereao do DEN
  167 00000074 6801            LDR              R1, [R0]
  168 00000076 F041 010F       ORR              R1, R1, #0xF ;L0 a L3 = 1: habi
                                                            lita I/O digital
  169 0000007A 6001            STR              R1, [R0]
  170 0000007C         
  171 0000007C 4854            LDR              R0, =GPIO_PORTM_DEN_R
  172 0000007E 6801            LDR              R1, [R0]
  173 00000080 F041 01F0       ORR              R1, R1, #0xF0 ;M4 a M7 = 1: hab
                                                            ilita I/O digital
  174 00000084 6001            STR              R1, [R0]
  175 00000086         
  176 00000086         ; 7. Para habilitar resistor de pull-up interno, setar P
                       UR para 1



ARM Macro Assembler    Page 7 


  177 00000086 4853            LDR              R0, =GPIO_PORTL_PUR_R ;Carrega 
                                                            o endereao do PUR
  178 00000088 6801            LDR              R1, [R0]
  179 0000008A F041 010F       ORR              R1, R1, #0xF ;L0 a L3 = 1: habi
                                                            lita funcionalidade
                                                             digital de resisto
                                                            r de pull-up
  180 0000008E 6001            STR              R1, [R0]
  181 00000090         
  182 00000090 4770            BX               LR          ;return
  183 00000092         
  184 00000092         ; ------------------------------------------------------
                       -------------------------
  185 00000092         ; Function to read button input from the matrix keyboard
                       (4x4)
  186 00000092         ; input: none
  187 00000092         ; output: R0 -> button pressed
  188 00000092         MKEYBOARD_readKeyboard
  189 00000092         ; Bounce do teclado
  190 00000092 F44F 7096       MOV              R0, #300
  191 00000096 B500            PUSH             { LR }
  192 00000098 F7FF FFFE       BL               SysTick_Wait1ms
  193 0000009C F85D EB04       POP              { LR }
  194 000000A0 F04F 0404       MOV              R4, #4
  195 000000A4         verifica_teclado
  196 000000A4 4620            MOV              R0, R4
  197 000000A6 B500            PUSH             { LR }
  198 000000A8 F000 F854       BL               ler_coluna
  199 000000AC F000 F874       BL               ler_porta_L
  200 000000B0 F85D EB04       POP              { LR }
  201 000000B4 2A0F            CMP              R2, #0xF
  202 000000B6 D006            BEQ              depois_de_verificar_teclado
  203 000000B8         tecla_pressionada
  204 000000B8 F04F 0301       MOV              R3, #1
  205 000000BC FA03 F304       LSL              R3, R4
  206 000000C0 EA42 0003       ORR              R0, R2, R3
  207 000000C4 E007            B                decideValueToReturn
  208 000000C6         depois_de_verificar_teclado
  209 000000C6 2C07            CMP              R4, #7
  210 000000C8 BF04            ITT              EQ
  211 000000CA 2000            MOVEQ            R0, #0
  212 000000CC E002            BEQ              readKeyboardEnd
  213 000000CE F104 0401       ADD              R4, #1
  214 000000D2 E7E7            B                verifica_teclado
  215 000000D4         readKeyboardEnd
  216 000000D4 4770            BX               LR
  217 000000D6         
  218 000000D6         decideValueToReturn
  219 000000D6 281E            CMP              R0, #2_00011110 ; C1, L1
  220 000000D8 BF04            ITT              EQ
  221 000000DA 2031            MOVEQ            R0, #'1'
  222 000000DC E7FA            BEQ              readKeyboardEnd
  223 000000DE 281D            CMP              R0, #2_00011101 ; C1, L2
  224 000000E0 BF04            ITT              EQ
  225 000000E2 2034            MOVEQ            R0, #'4'
  226 000000E4 E7F6            BEQ              readKeyboardEnd
  227 000000E6 281B            CMP              R0, #2_00011011 ; C1, L3
  228 000000E8 BF04            ITT              EQ
  229 000000EA 2037            MOVEQ            R0, #'7'



ARM Macro Assembler    Page 8 


  230 000000EC E7F2            BEQ              readKeyboardEnd
  231 000000EE 2817            CMP              R0, #2_00010111 ; C1, L4
  232 000000F0 BF04            ITT              EQ
  233 000000F2 202A            MOVEQ            R0, #'*'
  234 000000F4 E7EE            BEQ              readKeyboardEnd
  235 000000F6 282E            CMP              R0, #2_00101110 ; C2, L1
  236 000000F8 BF04            ITT              EQ
  237 000000FA 2032            MOVEQ            R0, #'2'
  238 000000FC E7EA            BEQ              readKeyboardEnd
  239 000000FE 282D            CMP              R0, #2_00101101 ; C2, L2
  240 00000100 BF04            ITT              EQ
  241 00000102 2035            MOVEQ            R0, #'5'
  242 00000104 E7E6            BEQ              readKeyboardEnd
  243 00000106 282B            CMP              R0, #2_00101011 ; C2, L3
  244 00000108 BF04            ITT              EQ
  245 0000010A 2038            MOVEQ            R0, #'8'
  246 0000010C E7E2            BEQ              readKeyboardEnd
  247 0000010E 2827            CMP              R0, #2_00100111 ; C2, L4
  248 00000110 BF04            ITT              EQ
  249 00000112 2030            MOVEQ            R0, #'0'
  250 00000114 E7DE            BEQ              readKeyboardEnd
  251 00000116 284E            CMP              R0, #2_01001110 ; C3, L1
  252 00000118 BF04            ITT              EQ
  253 0000011A 2033            MOVEQ            R0, #'3'
  254 0000011C E7DA            BEQ              readKeyboardEnd
  255 0000011E 284D            CMP              R0, #2_01001101 ; C3, L2
  256 00000120 BF04            ITT              EQ
  257 00000122 2036            MOVEQ            R0, #'6'
  258 00000124 E7D6            BEQ              readKeyboardEnd
  259 00000126 284B            CMP              R0, #2_01001011 ; C3, L3
  260 00000128 BF04            ITT              EQ
  261 0000012A 2039            MOVEQ            R0, #'9'
  262 0000012C E7D2            BEQ              readKeyboardEnd
  263 0000012E 2847            CMP              R0, #2_01000111 ; C3, L4
  264 00000130 BF04            ITT              EQ
  265 00000132 2023            MOVEQ            R0, #'#'
  266 00000134 E7CE            BEQ              readKeyboardEnd
  267 00000136 288E            CMP              R0, #2_10001110 ; C4, L1
  268 00000138 BF04            ITT              EQ
  269 0000013A 2041            MOVEQ            R0, #'A'
  270 0000013C E7CA            BEQ              readKeyboardEnd
  271 0000013E 288D            CMP              R0, #2_10001101 ; C4, L2
  272 00000140 BF04            ITT              EQ
  273 00000142 2042            MOVEQ            R0, #'B'
  274 00000144 E7C6            BEQ              readKeyboardEnd
  275 00000146 288B            CMP              R0, #2_10001011 ; C4, L3
  276 00000148 BF04            ITT              EQ
  277 0000014A 2043            MOVEQ            R0, #'C'
  278 0000014C E7C2            BEQ              readKeyboardEnd
  279 0000014E F04F 0044       MOV              R0, #'D'
  280 00000152 E7BF            B                readKeyboardEnd
  281 00000154         ; ------------------------------------------------------
                       -------------------------
  282 00000154         ; Funcao ler_coluna
  283 00000154         ; Parametro de entrada: R0 -> numero da coluna que se qu
                       er ler - de 4 a 7
  284 00000154         ; Parametro de saida: Nao tem
  285 00000154         ler_coluna
  286 00000154 491A            LDR              R1, =GPIO_PORTM_DIR_R



ARM Macro Assembler    Page 9 


  287 00000156         
  288 00000156         ; R3 vai ter como bit 1 o bit na posicao R0
  289 00000156 F04F 0301       MOV              R3, #1
  290 0000015A FA03 F300       LSL              R3, R0
  291 0000015E 680A            LDR              R2, [R1]
  292 00000160 F002 020F       AND              R2, #0x0F
  293 00000164 EA43 0302       ORR              R3, R2
  294 00000168         
  295 00000168 600B            STR              R3, [R1]    ; Escreve o novo va
                                                            lor da porta 0 ENTR
                                                            ADA 1 SAIDA
  296 0000016A         
  297 0000016A         ; Escreve 0 na coluna escolhida
  298 0000016A 491B            LDR              R1, =GPIO_PORTM_DATA_R
  299 0000016C 680A            LDR              R2, [R1]
  300 0000016E F002 020F       AND              R2, #0x0F
  301 00000172 F04F 0301       MOV              R3, #1
  302 00000176 FA03 F300       LSL              R3, R0
  303 0000017A F083 03F0       EOR              R3, R3, #0xF0
  304 0000017E F003 03F0       AND              R3, #0xF0
  305 00000182 EA42 0203       ORR              R2, R3      ; R2 = R2 & 0x0F | 
                                                            R3 & 0xF0
  306 00000186 600A            STR              R2, [R1]
  307 00000188         
  308 00000188 B501            PUSH{LR,         R0}
  309 0000018A F04F 000A       MOV              R0, #10
  310 0000018E F7FF FFFE       BL               SysTick_Wait1ms
  311 00000192 E8BD 4001       POP{R0,          LR}
  312 00000196         
  313 00000196 4770            BX               LR
  314 00000198         
  315 00000198         ; ------------------------------------------------------
                       -------------------------
  316 00000198         ; Funcao ler_porta_L - Le o valor de PL3-PL0
  317 00000198         ; Parametro de entrada: Nao tem
  318 00000198         ; Parametro de saida: Nao tem
  319 00000198         ler_porta_L
  320 00000198 4910            LDR              R1, =GPIO_PORTL_DATA_R
  321 0000019A 680A            LDR              R2, [R1]    ; 
  322 0000019C F002 020F       AND              R2, #0x0F
  323 000001A0         
  324 000001A0 4770            BX               LR
  325 000001A2         
  326 000001A2         
  327 000001A2         ; ------------------------------------------------------
                       -------------------------
  328 000001A2         ; fim do arquivo
  329 000001A2 00 00           ALIGN                        ; garante que o fim
                                                             da se??o est? alin
                                                            hada 
  330 000001A4                 END                          ; fim do arquivo
              400FE608 
              400FEA08 
              40062528 
              40063528 
              4006252C 
              4006352C 
              40062400 
              40063400 



ARM Macro Assembler    Page 10 


              40062420 
              40063420 
              4006251C 
              4006351C 
              40062510 
              400633FC 
              400623FC 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\matrixkeyboard.d -o.\objects\matrixkeyboard.o -IC:\Us
ers\DAELN\Downloads\uCro-main\Lab3\RTE -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.
0\Device\Include\TM4C129 -IC:\Keil_v5\ARM\CMSIS\Include --predefine="__EVAL SET
A 1" --predefine="__UVISION_VERSION SETA 518" --predefine="TM4C1294NCPDT SETA 1
" --list=.\listings\matrixkeyboard.lst matrixKeyboard.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 90 in file matrixKeyboard.s
   Uses
      None
Comment: .text unused
Espera_Porta 00000010

Symbol: Espera_Porta
   Definitions
      At line 114 in file matrixKeyboard.s
   Uses
      At line 120 in file matrixKeyboard.s
Comment: Espera_Porta used once
MKBOARD_GPIOinit 00000000

Symbol: MKBOARD_GPIOinit
   Definitions
      At line 102 in file matrixKeyboard.s
   Uses
      At line 93 in file matrixKeyboard.s
Comment: MKBOARD_GPIOinit used once
MKEYBOARD_readKeyboard 00000092

Symbol: MKEYBOARD_readKeyboard
   Definitions
      At line 188 in file matrixKeyboard.s
   Uses
      At line 94 in file matrixKeyboard.s
Comment: MKEYBOARD_readKeyboard used once
decideValueToReturn 000000D6

Symbol: decideValueToReturn
   Definitions
      At line 218 in file matrixKeyboard.s
   Uses
      At line 207 in file matrixKeyboard.s
Comment: decideValueToReturn used once
depois_de_verificar_teclado 000000C6

Symbol: depois_de_verificar_teclado
   Definitions
      At line 208 in file matrixKeyboard.s
   Uses
      At line 202 in file matrixKeyboard.s
Comment: depois_de_verificar_teclado used once
ler_coluna 00000154

Symbol: ler_coluna
   Definitions
      At line 285 in file matrixKeyboard.s
   Uses
      At line 198 in file matrixKeyboard.s
Comment: ler_coluna used once
ler_porta_L 00000198

Symbol: ler_porta_L



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 319 in file matrixKeyboard.s
   Uses
      At line 199 in file matrixKeyboard.s
Comment: ler_porta_L used once
readKeyboardEnd 000000D4

Symbol: readKeyboardEnd
   Definitions
      At line 215 in file matrixKeyboard.s
   Uses
      At line 212 in file matrixKeyboard.s
      At line 222 in file matrixKeyboard.s
      At line 226 in file matrixKeyboard.s
      At line 230 in file matrixKeyboard.s
      At line 234 in file matrixKeyboard.s
      At line 238 in file matrixKeyboard.s
      At line 242 in file matrixKeyboard.s
      At line 246 in file matrixKeyboard.s
      At line 250 in file matrixKeyboard.s
      At line 254 in file matrixKeyboard.s
      At line 258 in file matrixKeyboard.s
      At line 262 in file matrixKeyboard.s
      At line 266 in file matrixKeyboard.s
      At line 270 in file matrixKeyboard.s
      At line 274 in file matrixKeyboard.s
      At line 278 in file matrixKeyboard.s
      At line 280 in file matrixKeyboard.s

tecla_pressionada 000000B8

Symbol: tecla_pressionada
   Definitions
      At line 203 in file matrixKeyboard.s
   Uses
      None
Comment: tecla_pressionada unused
verifica_teclado 000000A4

Symbol: verifica_teclado
   Definitions
      At line 195 in file matrixKeyboard.s
   Uses
      At line 214 in file matrixKeyboard.s
Comment: verifica_teclado used once
11 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTL 00000400

Symbol: GPIO_PORTL
   Definitions
      At line 18 in file matrixKeyboard.s
   Uses
      At line 108 in file matrixKeyboard.s
      At line 116 in file matrixKeyboard.s

GPIO_PORTL_ADCCTL_R 40062530

Symbol: GPIO_PORTL_ADCCTL_R
   Definitions
      At line 42 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_ADCCTL_R unused
GPIO_PORTL_AFSEL_R 40062420

Symbol: GPIO_PORTL_AFSEL_R
   Definitions
      At line 29 in file matrixKeyboard.s
   Uses
      At line 156 in file matrixKeyboard.s
Comment: GPIO_PORTL_AFSEL_R used once
GPIO_PORTL_AMSEL_R 40062528

Symbol: GPIO_PORTL_AMSEL_R
   Definitions
      At line 40 in file matrixKeyboard.s
   Uses
      At line 123 in file matrixKeyboard.s
Comment: GPIO_PORTL_AMSEL_R used once
GPIO_PORTL_CR_R 40062524

Symbol: GPIO_PORTL_CR_R
   Definitions
      At line 39 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_CR_R unused
GPIO_PORTL_DATA_BITS_R 40062000

Symbol: GPIO_PORTL_DATA_BITS_R
   Definitions
      At line 19 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_DATA_BITS_R unused
GPIO_PORTL_DATA_R 400623FC

Symbol: GPIO_PORTL_DATA_R
   Definitions
      At line 20 in file matrixKeyboard.s
   Uses
      At line 320 in file matrixKeyboard.s
Comment: GPIO_PORTL_DATA_R used once
GPIO_PORTL_DEN_R 4006251C




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

Symbol: GPIO_PORTL_DEN_R
   Definitions
      At line 37 in file matrixKeyboard.s
   Uses
      At line 166 in file matrixKeyboard.s
Comment: GPIO_PORTL_DEN_R used once
GPIO_PORTL_DIR_R 40062400

Symbol: GPIO_PORTL_DIR_R
   Definitions
      At line 21 in file matrixKeyboard.s
   Uses
      At line 145 in file matrixKeyboard.s
Comment: GPIO_PORTL_DIR_R used once
GPIO_PORTL_DMACTL_R 40062534

Symbol: GPIO_PORTL_DMACTL_R
   Definitions
      At line 43 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_DMACTL_R unused
GPIO_PORTL_DR12R_R 4006253C

Symbol: GPIO_PORTL_DR12R_R
   Definitions
      At line 45 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_DR12R_R unused
GPIO_PORTL_DR2R_R 40062500

Symbol: GPIO_PORTL_DR2R_R
   Definitions
      At line 30 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_DR2R_R unused
GPIO_PORTL_DR4R_R 40062504

Symbol: GPIO_PORTL_DR4R_R
   Definitions
      At line 31 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_DR4R_R unused
GPIO_PORTL_DR8R_R 40062508

Symbol: GPIO_PORTL_DR8R_R
   Definitions
      At line 32 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_DR8R_R unused
GPIO_PORTL_IBE_R 40062408

Symbol: GPIO_PORTL_IBE_R
   Definitions
      At line 23 in file matrixKeyboard.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

   Uses
      None
Comment: GPIO_PORTL_IBE_R unused
GPIO_PORTL_ICR_R 4006241C

Symbol: GPIO_PORTL_ICR_R
   Definitions
      At line 28 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_ICR_R unused
GPIO_PORTL_IEV_R 4006240C

Symbol: GPIO_PORTL_IEV_R
   Definitions
      At line 24 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_IEV_R unused
GPIO_PORTL_IM_R 40062410

Symbol: GPIO_PORTL_IM_R
   Definitions
      At line 25 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_IM_R unused
GPIO_PORTL_IS_R 40062404

Symbol: GPIO_PORTL_IS_R
   Definitions
      At line 22 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_IS_R unused
GPIO_PORTL_LOCK_R 40062520

Symbol: GPIO_PORTL_LOCK_R
   Definitions
      At line 38 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_LOCK_R unused
GPIO_PORTL_MIS_R 40062418

Symbol: GPIO_PORTL_MIS_R
   Definitions
      At line 27 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_MIS_R unused
GPIO_PORTL_ODR_R 4006250C

Symbol: GPIO_PORTL_ODR_R
   Definitions
      At line 33 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_ODR_R unused



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTL_PCTL_R 4006252C

Symbol: GPIO_PORTL_PCTL_R
   Definitions
      At line 41 in file matrixKeyboard.s
   Uses
      At line 134 in file matrixKeyboard.s
Comment: GPIO_PORTL_PCTL_R used once
GPIO_PORTL_PC_R 40062FC4

Symbol: GPIO_PORTL_PC_R
   Definitions
      At line 50 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_PC_R unused
GPIO_PORTL_PDR_R 40062514

Symbol: GPIO_PORTL_PDR_R
   Definitions
      At line 35 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_PDR_R unused
GPIO_PORTL_PP_R 40062FC0

Symbol: GPIO_PORTL_PP_R
   Definitions
      At line 49 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_PP_R unused
GPIO_PORTL_PUR_R 40062510

Symbol: GPIO_PORTL_PUR_R
   Definitions
      At line 34 in file matrixKeyboard.s
   Uses
      At line 177 in file matrixKeyboard.s
Comment: GPIO_PORTL_PUR_R used once
GPIO_PORTL_RIS_R 40062414

Symbol: GPIO_PORTL_RIS_R
   Definitions
      At line 26 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_RIS_R unused
GPIO_PORTL_SI_R 40062538

Symbol: GPIO_PORTL_SI_R
   Definitions
      At line 44 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_SI_R unused
GPIO_PORTL_SLR_R 40062518

Symbol: GPIO_PORTL_SLR_R



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 36 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_SLR_R unused
GPIO_PORTL_WAKELVL_R 40062544

Symbol: GPIO_PORTL_WAKELVL_R
   Definitions
      At line 47 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_WAKELVL_R unused
GPIO_PORTL_WAKEPEN_R 40062540

Symbol: GPIO_PORTL_WAKEPEN_R
   Definitions
      At line 46 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_WAKEPEN_R unused
GPIO_PORTL_WAKESTAT_R 40062548

Symbol: GPIO_PORTL_WAKESTAT_R
   Definitions
      At line 48 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTL_WAKESTAT_R unused
GPIO_PORTM 00001000

Symbol: GPIO_PORTM
   Definitions
      At line 53 in file matrixKeyboard.s
   Uses
      At line 109 in file matrixKeyboard.s
      At line 117 in file matrixKeyboard.s

GPIO_PORTM_ADCCTL_R 40063530

Symbol: GPIO_PORTM_ADCCTL_R
   Definitions
      At line 77 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_ADCCTL_R unused
GPIO_PORTM_AFSEL_R 40063420

Symbol: GPIO_PORTM_AFSEL_R
   Definitions
      At line 64 in file matrixKeyboard.s
   Uses
      At line 160 in file matrixKeyboard.s
Comment: GPIO_PORTM_AFSEL_R used once
GPIO_PORTM_AMSEL_R 40063528

Symbol: GPIO_PORTM_AMSEL_R
   Definitions
      At line 75 in file matrixKeyboard.s



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 128 in file matrixKeyboard.s
Comment: GPIO_PORTM_AMSEL_R used once
GPIO_PORTM_CR_R 40063524

Symbol: GPIO_PORTM_CR_R
   Definitions
      At line 74 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_CR_R unused
GPIO_PORTM_DATA_BITS_R 40063000

Symbol: GPIO_PORTM_DATA_BITS_R
   Definitions
      At line 54 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_DATA_BITS_R unused
GPIO_PORTM_DATA_R 400633FC

Symbol: GPIO_PORTM_DATA_R
   Definitions
      At line 55 in file matrixKeyboard.s
   Uses
      At line 298 in file matrixKeyboard.s
Comment: GPIO_PORTM_DATA_R used once
GPIO_PORTM_DEN_R 4006351C

Symbol: GPIO_PORTM_DEN_R
   Definitions
      At line 72 in file matrixKeyboard.s
   Uses
      At line 171 in file matrixKeyboard.s
Comment: GPIO_PORTM_DEN_R used once
GPIO_PORTM_DIR_R 40063400

Symbol: GPIO_PORTM_DIR_R
   Definitions
      At line 56 in file matrixKeyboard.s
   Uses
      At line 150 in file matrixKeyboard.s
      At line 286 in file matrixKeyboard.s

GPIO_PORTM_DMACTL_R 40063534

Symbol: GPIO_PORTM_DMACTL_R
   Definitions
      At line 78 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_DMACTL_R unused
GPIO_PORTM_DR12R_R 4006353C

Symbol: GPIO_PORTM_DR12R_R
   Definitions
      At line 80 in file matrixKeyboard.s
   Uses
      None



ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Absolute symbols

Comment: GPIO_PORTM_DR12R_R unused
GPIO_PORTM_DR2R_R 40063500

Symbol: GPIO_PORTM_DR2R_R
   Definitions
      At line 65 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_DR2R_R unused
GPIO_PORTM_DR4R_R 40063504

Symbol: GPIO_PORTM_DR4R_R
   Definitions
      At line 66 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_DR4R_R unused
GPIO_PORTM_DR8R_R 40063508

Symbol: GPIO_PORTM_DR8R_R
   Definitions
      At line 67 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_DR8R_R unused
GPIO_PORTM_IBE_R 40063408

Symbol: GPIO_PORTM_IBE_R
   Definitions
      At line 58 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_IBE_R unused
GPIO_PORTM_ICR_R 4006341C

Symbol: GPIO_PORTM_ICR_R
   Definitions
      At line 63 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_ICR_R unused
GPIO_PORTM_IEV_R 4006340C

Symbol: GPIO_PORTM_IEV_R
   Definitions
      At line 59 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_IEV_R unused
GPIO_PORTM_IM_R 40063410

Symbol: GPIO_PORTM_IM_R
   Definitions
      At line 60 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_IM_R unused
GPIO_PORTM_IS_R 40063404




ARM Macro Assembler    Page 8 Alphabetic symbol ordering
Absolute symbols

Symbol: GPIO_PORTM_IS_R
   Definitions
      At line 57 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_IS_R unused
GPIO_PORTM_LOCK_R 40063520

Symbol: GPIO_PORTM_LOCK_R
   Definitions
      At line 73 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_LOCK_R unused
GPIO_PORTM_MIS_R 40063418

Symbol: GPIO_PORTM_MIS_R
   Definitions
      At line 62 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_MIS_R unused
GPIO_PORTM_ODR_R 4006350C

Symbol: GPIO_PORTM_ODR_R
   Definitions
      At line 68 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_ODR_R unused
GPIO_PORTM_PCTL_R 4006352C

Symbol: GPIO_PORTM_PCTL_R
   Definitions
      At line 76 in file matrixKeyboard.s
   Uses
      At line 139 in file matrixKeyboard.s
Comment: GPIO_PORTM_PCTL_R used once
GPIO_PORTM_PC_R 40063FC4

Symbol: GPIO_PORTM_PC_R
   Definitions
      At line 85 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_PC_R unused
GPIO_PORTM_PDR_R 40063514

Symbol: GPIO_PORTM_PDR_R
   Definitions
      At line 70 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_PDR_R unused
GPIO_PORTM_PP_R 40063FC0

Symbol: GPIO_PORTM_PP_R
   Definitions
      At line 84 in file matrixKeyboard.s



ARM Macro Assembler    Page 9 Alphabetic symbol ordering
Absolute symbols

   Uses
      None
Comment: GPIO_PORTM_PP_R unused
GPIO_PORTM_PUR_R 40063510

Symbol: GPIO_PORTM_PUR_R
   Definitions
      At line 69 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_PUR_R unused
GPIO_PORTM_RIS_R 40063414

Symbol: GPIO_PORTM_RIS_R
   Definitions
      At line 61 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_RIS_R unused
GPIO_PORTM_SI_R 40063538

Symbol: GPIO_PORTM_SI_R
   Definitions
      At line 79 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_SI_R unused
GPIO_PORTM_SLR_R 40063518

Symbol: GPIO_PORTM_SLR_R
   Definitions
      At line 71 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_SLR_R unused
GPIO_PORTM_WAKELVL_R 40063544

Symbol: GPIO_PORTM_WAKELVL_R
   Definitions
      At line 82 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_WAKELVL_R unused
GPIO_PORTM_WAKEPEN_R 40063540

Symbol: GPIO_PORTM_WAKEPEN_R
   Definitions
      At line 81 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_WAKEPEN_R unused
GPIO_PORTM_WAKESTAT_R 40063548

Symbol: GPIO_PORTM_WAKESTAT_R
   Definitions
      At line 83 in file matrixKeyboard.s
   Uses
      None
Comment: GPIO_PORTM_WAKESTAT_R unused



ARM Macro Assembler    Page 10 Alphabetic symbol ordering
Absolute symbols

SYSCTL_PRGPIO_R 400FEA08

Symbol: SYSCTL_PRGPIO_R
   Definitions
      At line 12 in file matrixKeyboard.s
   Uses
      At line 113 in file matrixKeyboard.s
Comment: SYSCTL_PRGPIO_R used once
SYSCTL_RCGCGPIO_R 400FE608

Symbol: SYSCTL_RCGCGPIO_R
   Definitions
      At line 11 in file matrixKeyboard.s
   Uses
      At line 106 in file matrixKeyboard.s
Comment: SYSCTL_RCGCGPIO_R used once
68 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

SysTick_Wait1ms 00000000

Symbol: SysTick_Wait1ms
   Definitions
      At line 96 in file matrixKeyboard.s
   Uses
      At line 192 in file matrixKeyboard.s
      At line 310 in file matrixKeyboard.s

1 symbol
416 symbols in table
